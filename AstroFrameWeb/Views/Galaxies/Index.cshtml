@model AstroFrameWeb.Data.Models.Galaxy
@{
    ViewData["Title"] = "Galaxy View";
}
@{
    var imageUrl = Model.ImageUrl;

    bool isExternal = !string.IsNullOrEmpty(imageUrl) &&
                      (imageUrl.StartsWith("http://") || imageUrl.StartsWith("https://"));

    string finalUrl = isExternal
        ? imageUrl
        : Url.Content("~/images/" + imageUrl);
}
<style>
    body {
        background-image: url('/images/StarIndexBody.jpg');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        color: white;
    }

    .galaxy-img {
        width: 400px;
        height: auto;
        border-radius: 12px;
        box-shadow: 0 0 20px cyan;
    }

    .galaxy-card {
        background-color: rgba(0,0,0,0.5);
        border-radius: 15px;
        padding: 20px;
        margin-top: 30px;
        color: white;
    }

    .btn-nav {
        background-color: cyan;
        border-radius: 8px;
        color: black;
        padding: 10px 20px;
        font-weight: bold;
    }

    input.form-control {
        background-color: white;
        color: black;
        border: 2px solid cyan;
        border-radius: 8px;
        padding: 8px;
        width: 300px;
    }
</style>

<h1 class="text-center">@Model.Name</h1> 
<form asp-controller="Galaxies" asp-action="Index" method="get" class="mb-3 text-center">
    <div class="input-group justify-content-center">
        <input type="text" name="searchStr" class="form-control w-50" placeholder="Search galaxies..." value="@ViewBag.SearchStr" />
        <button type="submit" class="btn btn-primary ms-2">Search</button>
    </div>
</form>
<div class="text-center">
    @if (!string.IsNullOrEmpty(Model.ImageUrl))
    {
        <div class="text-center">
            <img src="@finalUrl" alt="@Model.Name" class="galaxy-img" />
        </div>
    }
</div>

<div class="container galaxy-card text-center">
    <p><strong>Description:</strong> @Model.Description</p>
    <p><strong>Type:</strong> @Model.GalaxyType</p>
    <p><strong>Stars:</strong> @Model.NumberOfStars</p>
    <p><strong>Distance:</strong> @Model.DistanceFromEarth light years</p>
    
</div>
<div class="mt-4 d-flex justify-content-between">
    <a class="btn btn-nav"
       href="@Url.Action("Index", "Galaxies", new { index = (int)ViewBag.Index - 1, searchStr = ViewBag.SearchStr })">
        ← Previous
    </a>
    <a class="btn btn-nav"
       href="@Url.Action("Index", "Galaxies", new { index = (int)ViewBag.Index + 1, searchStr = ViewBag.SearchStr })">
        Next →
    </a>
</div>